{"version":3,"sources":["progressBar.js"],"names":["$","window","ProgressBar","el","opts","self","autoplay","data","useWayPoint","wayPointOffset","isRtl","document","dir","value","showTitle","titleEl","titleContent","style","easing","duration","onInit","onAnimatinStart","onProgress","onAfterProgress","onComplete","onError","onEnd","console","log","addClass","bar","find","title","indecator","numWrap","number","init","isFunction","call","length","text","html","after","appendTo","wrap","parent","Waypoint","element","handler","start","destroy","offset","started","stopped","animator","progress","Progress","animate","arguments","step","self2","replace","Math","ceil","css","width","left","complete","fail","always","stop","clearQueue","jumpToEnd","fn","progressBar","options","each","on","jQuery"],"mappings":"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","sourcesContent":["/**\n * ProgressBar.js\n * \n * @license GPL-3.0-or-later\n */\n;(function($, window) {\n    \"use strict\";\n\n    /**\n     * \n     * @param {jQuery|HTMLElementClass} el \n     * @param {Object} opts \n     */\n    function ProgressBar( el, opts = {} ) {\n\n        const self = this;\n\n        self.el = $(el);\n\n        const {\n            autoplay = false === self.el.data('autoplay') ? false : true,\n            useWayPoint = false === self.el.data('waypoint') ? false : true,\n            wayPointOffset = self.el.data('waypoint-offset') || 'bottom-in-view',\n            isRtl = 'rtl' === document.dir,\n            value = self.el.data('value'),\n            showTitle = true,\n            titleEl = $('<h4/>'),\n            titleContent = self.el.data('title'),\n            style = self.el.data('tooltip') ? 'tooltip' : 'inline',\n            easing = self.el.data('easing') || 'swing',\n            duration = self.el.data('duration') || 1500,\n            onInit = function(){},\n            onAnimatinStart = function(){},\n            onProgress = function(){},\n            onAfterProgress = function(){},\n            onComplete = function(){},\n            onError = function(){},\n            onEnd = function(){},\n        } = opts;\n        console.log( autoplay );\n        // Incase invoked directly with options.\n        self.el.addClass('progress-' + style );\n\n        // Setup.\n\n        self.bar       = self.el.find( '.progress-bar' );\n        self.title     = self.el.find( '.progress-title' );\n        self.indecator = self.el.find( '.progress-indecator' );\n        self.numWrap   = self.indecator.find( '.progress-indecator-inner' );\n        self.number    = self.indecator.find('.percent');\n\n        const init = function() {\n\n            if ( $.isFunction( onInit ) ) {\n                onInit.call( self );\n            }\n\n            if ( ! self.title.length && showTitle ) {\n                self.title = $(titleEl).addClass( 'progress-title' );\n                self.title.text( titleContent );\n                self.el.html( self.title );\n            }\n            \n            if ( ! self.indecator.length ) {\n                self.indecator = $('<div/>').addClass('progress-indecator');\n                self.title.after( self.indecator );\n            }\n            \n            if ( ! self.number.length ) {\n                self.number = $('<span class=\"percent\"></span>');\n                self.number.appendTo( self.indecator );\n                \n                self.number.wrap( '<div class=\"progress-indecator-inner\"/>' );\n                self.numWrap = self.number.parent();\n                if ( 'tooltip' === style ) {\n                    self.number.after('<span class=\"down-arrow\"/>');\n                }\n            }\n\n            if ( ! self.bar.length ) {\n                self.bar = $('<div/>').addClass('progress-bar');\n                self.indecator.after( self.bar );\n                self.bar.wrap( '<div class=\"progress-bar-wrap\"/>');\n            }\n\n            if ( isRtl ) {\n                self.el.addClass( 'progress-rtl' );\n            }\n\n            if ( autoplay ) {\n                if ( useWayPoint && window.Waypoint ) {\n                    /**\n                     * Any of WayPoint Adapters will work the same.\n                     * Offset can be set vai options.\n                     * @see http://imakewebthings.com/waypoints/api/offset-option/\n                     */\n                    new Waypoint( {\n                        element: self.el[0],\n                        handler: function() { \n                            self.start();\n                            this.destroy();\n                        },\n                        offset: wayPointOffset,\n                    } );\n                } else {\n                    self.start();\n                }\n            }\n        };\n\n        self.started = false;\n        self.stopped = null;\n\n        self.animator = null;\n        self.progress = 0;\n\n        self.start = function() {\n            if ( self.started ) {\n                return;\n            }\n            \n            self.animator = $( { Progress: self.progress } ).animate( { Progress: value }, {\n                duration,\n                easing,\n                start: function() {\n                    if ( $.isFunction( onAnimatinStart ) ) {\n                        onAnimatinStart.call( self, arguments );\n                    }\n                },\n                step: function () {\n                    if ( $.isFunction( onProgress ) ) {\n                        onProgress.call( self, arguments );\n                    }\n                },\n                progress: function() {\n\n                    const self2 = this;\n\n                    self.progress = self2.Progress;\n\n                    self.number.text( ( isRtl ? '%#':'#%').replace( '#', Math.ceil( self2.Progress ) ) );\n\n                    self.bar.css( { width: self2.Progress + '%' } );\n                    self.numWrap.css( { left: self2.Progress + '%' } );\n\n                    if ( $.isFunction( onAfterProgress ) ) {\n                        onAfterProgress.call( self, arguments );\n                    }\n                },\n                complete: function() {\n                    if ( $.isFunction( onComplete ) ) {\n                        onComplete.call( self, arguments );\n                    }\n                },\n                fail: function() {\n                    if ( $.isFunction( onError ) ) {\n                        onError.call( self, arguments );\n                    }\n                },\n                always: function() {\n                    if ( $.isFunction( onEnd ) ) {\n                        onEnd.call( self, arguments );\n                    }\n                }\n            } );\n\n            self.started = true;\n            self.stopped = false;\n        };\n\n        /**\n         * \n         * Stops the animation\n         * @see https://api.jquery.com/stop/\n         * \n         * @param {boolean=false} clearQueue \n         * @param {boolean=false} jumpToEnd \n         */\n        self.stop = function( clearQueue = false, jumpToEnd = false ) {\n            if ( ! self.stopped ) {\n                self.animator.stop( clearQueue, jumpToEnd );\n                self.started = false;\n                self.stopped = true;\n            }\n        };\n\n        init();\n    }\n\n    // jQuery Handler\n    $.fn.progressBar = function( options = {} ){\n        $(this).each( function(){\n            const progressBar = new ProgressBar( this, options );\n            $(this).data('progressBar', progressBar );\n        });\n    };\n    // Auto init with data attribute.\n    $(document).on( 'ready', function(){\n        $('[data-progress]').progressBar();\n    } );\n\n} )(jQuery, window);"],"file":"progressBar.js"}